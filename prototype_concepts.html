<script>
// Object only has __proto__ and no prototype
var obj1 = {
  a: 1,
};

var obj2 = Object.create(obj1);
console.log('****** var obj2 = Object.create(obj1); obj2, obj1, obj2.a', obj2, obj1, obj2.a);
console.log('****** obj2.__proto__ ********', obj2.__proto__);

var obj3 = Object.create(obj2);
console.log('****** var obj3 = Object.create(obj2); obj3, obj2, obj3.a', obj3, obj2, obj3.a);
console.log('****** obj2.__proto__, obj3.__proto__ ********', obj2.__proto__, obj3.__proto__);

// Array, String, Object - all are instance of Object()
console.log('******* Array.proto ********', Array.__proto__);
console.log('******* Array.proto ********', Object.__proto__);
console.log('******* String.proto ********', String.__proto__);
console.log('******* Array instanceof Object ********', Array instanceof Object);
console.log('******* Object instanceof Object ********', Object instanceof Object);
console.log('******* String instanceof Object ********', String instanceof Object);

// Use case of prototype
if(!String.prototype.rep) {
  String.prototype.rep = function() {
    console.log('**** this inside String.prototype.rep ****', this);
    try {
      return this + 'REP' + this;
    } catch (e) {
      return 'error';
    }
  };
}

var color1 = new String("green");
var color2 = "red";
console.log('******* color1 instanceof String *****', color1 instanceof String);
console.log('******* color1.length, color1.repeat *****', color1.length, color1.rep());
console.log('******* color2.length, color2.repeat *****', color2.length, color2.rep());
console.log('******* color1, color2, color1.__proto__, color2.__proto__ *****', color1, color2, color1.__proto__, color2.__proto__);

// function has both __proto__ and prototype
function Test( key ) {
  this.key = key;
}

Test.prototype.fn = function () {
  return 'pqr';
}

// While creating an instance - inst.__proto__ = Test.prototype
var inst = new Test('aaa');
console.log('******* inst.key, inst.fn() ******', inst.key, inst.fn());
</script>
